<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="./src/assets/pokeball.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style id="generatedOpacityClasses"></style>
    <style id="generatedLTRClasses"></style>
    <style id="generatedRTLClasses"></style>
    <title>Shivendra Saurav</title>
  </head>
  <body>
    <div id="root"></div>
    <div id="loading-container">
        <div class="loader">
            <div class="progress"></div>
        </div>
    </div>
    <script type="module" src="/src/main.jsx"></script>
    <script>

      document.addEventListener('DOMContentLoaded', ()=>{
        load(); 
      })
      
      let percentage = 0;

      const load = () =>{
          const bar = document.querySelectorAll('.progress')[0];
          console.log(bar)
          
          const measureName = 'pageLoadTime';

          if (!window.performance.getEntriesByName(measureName).length) {
          window.performance.measure(measureName, { start: 0, end: 0 });
          }

          const measures = window.performance.getEntriesByName(measureName);
          const total = measures[0].duration;
          const current = new Date() - window.performance.timeOrigin;
          const percentage = Math.min((current / total) * 100, 100);
          bar.classList.add('per' + percentage)

          if (percentage === 100) {
              setTimeout(()=>{
                  const bar = document.querySelectorAll('#loading-container')[0].style.display = 'none';
              }, 2000);
          }
      }
    </script>
  </body>
</html>

